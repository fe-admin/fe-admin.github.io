(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user"],{"17a3":function(e,t,r){},"1b62":function(e,t,r){"use strict";r.d(t,"b",(function(){return l}));r("99af"),r("ac1f"),r("5319");var n=r("5530"),a=r("3835"),i=(r("96cf"),r("1da1")),s=r("2f62"),o=r("ed08"),c=r("365c"),l=(o["d"],{data:function(){return{pageSizes:[10,20,50,100],pageSize:10,total:1,currentPage:1}}});Object(n["a"])(Object(n["a"])({},Object(s["b"])(["update"])),{},{hideDialog:function(e){this["".concat(e,"Visible")]=!1,this.currentIndex=null,this.currentRow=null},showDialog:function(e,t){this["".concat(e,"Visible")]=!0,t&&(this.currentIndex=t.$index,this.currentRow=t.row)}});t["a"]={data:function(){return{screenLoading:!1}},methods:{go:function(e){this.$router.go(e)},push:function(e){this.$router.push(e)},replace:function(e){this.$router.replace(e)},locationPush:function(e,t){var r=location.origin;window.microConfig&&(r=t?window.microConfig[t]:location.origin),location.replace("".concat(r).concat(e))},locationReplace:function(e,t){var r=location.origin;window.microConfig&&(r=t?window.microConfig[t]:location.origin),location.replace("".concat(r).concat(e))},$push:function(e,t,r){var n=localStorage.getItem("microId");"portal"===Object(o["microId"])()?this.locationPush(e):r?n===r?this.push(t):this.locationPush(t,r):this.push(t)}}}},"7d68":function(e,t,r){"use strict";var n=r("b251"),a=r.n(n);a.a},ab7f:function(e,t,r){"use strict";var n=r("17a3"),a=r.n(n);a.a},b251:function(e,t,r){},be1e:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login"},[r("div",{staticClass:"login-head"},[r("div",{staticClass:"login-logo"},[r("img",{staticClass:"img",attrs:{src:"/favicon.png"}}),r("svg-icon",{attrs:{iconName:"fe-logo-text"}})],1),r("div",{staticClass:"desc"},[e._v("Fe Admin 只为一款简单好用的前端中台系统")])]),r("div",{staticClass:"login-form"},[r("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"账户密码登录",name:"password"}},[e.pwdAlert?r("el-alert",{attrs:{closable:!1,title:e.alertMsg,type:"error","show-icon":""}}):e._e(),r("el-form",{ref:"userForm",attrs:{model:e.userForm,rules:e.formRule,size:"medium"}},[r("el-form-item",{attrs:{prop:"accountName"},nativeOn:{submit:function(e){e.preventDefault()}}},[r("el-input",{attrs:{maxlength:11,placeholder:"用户名: admin or user",clearable:""},on:{change:function(t){return e.validate("accountName")}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.userForm.accountName,callback:function(t){e.$set(e.userForm,"accountName","string"===typeof t?t.trim():t)},expression:"userForm.accountName"}},[r("i",{staticClass:"el-input__icon fe-font fe-user",attrs:{slot:"prefix"},slot:"prefix"})])],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{maxlength:12,type:e.pwdType?"password":"",placeholder:"密码: fe-admin",clearable:""},on:{change:function(t){return e.validate("password")}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.userForm.password,callback:function(t){e.$set(e.userForm,"password","string"===typeof t?t.trim():t)},expression:"userForm.password"}},[r("i",{staticClass:"el-input__icon fe-font fe-lock",attrs:{slot:"prefix"},slot:"prefix"}),r("i",{class:"el-input__icon fe-font fe-visible "+(e.pwdType?"fe-invisible":"fe-visible"),attrs:{slot:"suffix"},on:{click:e.changePwdType},slot:"suffix"})])],1)],1)],1),r("el-tab-pane",{attrs:{label:"手机号登录",name:"phone"}},[r("el-form",{ref:"phoneForm",attrs:{model:e.phoneForm,rules:e.formRule,size:"medium"}},[r("el-form-item",{attrs:{prop:"phone"},nativeOn:{submit:function(e){e.preventDefault()}}},[r("el-input",{attrs:{maxlength:11,placeholder:"请输入手机号！"},on:{change:function(t){return e.validate("phone")}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.phoneForm.phone,callback:function(t){e.$set(e.phoneForm,"phone","string"===typeof t?t.trim():t)},expression:"phoneForm.phone"}},[r("i",{staticClass:"el-input__icon fe-font fe-phone",attrs:{slot:"prefix"},slot:"prefix"})])],1),r("el-form-item",{staticClass:"sms-item",attrs:{prop:"smsNumber"}},[r("el-input",{attrs:{maxlength:6,placeholder:"请输入验证码！"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.phoneForm.smsNumber,callback:function(t){e.$set(e.phoneForm,"smsNumber","string"===typeof t?t.trim():t)},expression:"phoneForm.smsNumber"}},[r("i",{staticClass:"el-input__icon fe-font fe-message",attrs:{slot:"prefix"},slot:"prefix"})]),r("el-button",{on:{click:e.getSmsNumber}},[e._v("获取验证码")])],1)],1)],1)],1),r("div",{staticClass:"remember"},[r("el-checkbox",{model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("自动登录")]),r("a",[e._v("忘记密码？")])],1),r("div",{staticClass:"login-item"},[r("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.handleLogin}},[e._v("提 交")])],1),r("div",{staticClass:"other-type"},[e._v(" 其他登录方式 : "),r("svg-icon",{attrs:{iconName:"fe-zhifubao"}}),r("svg-icon",{attrs:{iconName:"fe-taobao"}}),r("svg-icon",{attrs:{iconName:"fe-weixin"}}),r("svg-icon",{attrs:{iconName:"fe-talk"}})],1)],1),r("fe-footer")],1)},a=[],i=(r("4160"),r("b64b"),r("159b"),r("3835")),s=(r("96cf"),r("1da1")),o=r("5530"),c=r("2f62"),l=r("365c"),u=r("ed08"),m=r("5f87"),p=r("1b62"),d={name:"Login",mixins:[p["a"]],data:function(){return{pwdAlert:!1,alertMsg:"",activeName:"password",pwdType:!0,checked:!0,loading:!1,userForm:{accountName:"",password:""},phoneForm:{phone:"",smsNumber:""},formRule:{accountName:[{required:!0,message:"请输入用户名",trigger:["change","blur"]}],password:[{required:!0,message:"请输入密码",trigger:["change","blur"]},{min:6,max:12,message:"长度在 6 到 12 个字符",trigger:["change","blur"]}],phone:[{required:!0,message:"请输入手机号",trigger:["change","blur"]},{len:11,message:"请输入手机号",trigger:["change","blur"]}],smsNumber:[{required:!0,message:"请输入验证码",trigger:"blur"},{len:6,message:"请输入6位验证码",trigger:"blur"}]},smsText:"获取验证码",smsNum:0,waiting:!1}},computed:{getSmsText:function(){return"ss"}},created:function(){this.handleLogin=Object(u["b"])(this.handleLogin)},methods:Object(o["a"])(Object(o["a"])({},Object(c["b"])(["Login"])),{},{login:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,n,a,s,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,r=e.activeName,n="password"===r?"userForm":"phoneForm",t.next=5,Object(l["f"])(e[n]);case 5:if(a=t.sent,s=Object(i["a"])(a,2),o=s[0],c=s[1],!o){t.next=14;break}e.pwdAlert=!0,e.alertMsg=o.message,t.next=20;break;case 14:return e.Login(c),Object.keys(c).forEach((function(e){localStorage.setItem(e,c[e])})),Object(m["c"])(c.token),t.next=19,Object(u["e"])(1e3);case 19:e.loginSuccess();case 20:console.info(o,c),e.loading=!1;case 22:case"end":return t.stop()}}),t)})))()},loginSuccess:function(){this.$router.push("/dashboard")},handleLogin:function(){var e=this,t=this.activeName,r="password"===t?"userForm":"phoneForm";this.$refs[r].validate((function(t){t&&e.login()}))},validate:function(e,t){},getSmsNumber:function(){},changePwdType:function(){this.pwdType=!this.pwdType},handleClick:function(){var e="password"===this.activeName?"userForm":"phoneForm";this.$refs[e].resetFields()}})},f=d,g=f,h=(r("7d68"),r("2877")),b=Object(h["a"])(g,n,a,!1,null,"9da0e4a0",null);t["default"]=b.exports},d819:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"register"},[r("div",{staticClass:"register-content"},[r("div",{staticClass:"register-form"},[r("el-form",{ref:"userForm",attrs:{model:e.userForm,rules:e.formRule,size:"medium"}},[r("div",{staticClass:"tit"},[e._v("帐号注册")]),r("el-form-item",{attrs:{prop:"userName"},nativeOn:{submit:function(e){e.preventDefault()}}},[r("el-input",{attrs:{maxlength:11,clearable:"",placeholder:"请输入用户名"},on:{input:function(t){return e.change("userName")}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.userForm.userName,callback:function(t){e.$set(e.userForm,"userName","string"===typeof t?t.trim():t)},expression:"userForm.userName"}},[r("svg",{staticClass:"icon",attrs:{slot:"prefix","aria-hidden":"true"},slot:"prefix"},[r("use",{attrs:{"xlink:href":"#iconzhanghu"}})])])],1),r("el-form-item",{attrs:{prop:"phoneNo"},nativeOn:{submit:function(e){e.preventDefault()}}},[r("el-input",{attrs:{maxlength:11,clearable:"",placeholder:"请输入手机号"},on:{input:function(t){return e.change("phoneNo")}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.userForm.phoneNo,callback:function(t){e.$set(e.userForm,"phoneNo","string"===typeof t?t.trim():t)},expression:"userForm.phoneNo"}},[r("svg",{staticClass:"icon",attrs:{slot:"prefix","aria-hidden":"true"},slot:"prefix"},[r("use",{attrs:{"xlink:href":"#iconzhanghu"}})])])],1),r("el-form-item",{attrs:{prop:"email"},nativeOn:{submit:function(e){e.preventDefault()}}},[r("el-input",{attrs:{maxlength:50,clearable:"",placeholder:"请输入邮箱"},on:{input:function(t){return e.change("email")}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.userForm.email,callback:function(t){e.$set(e.userForm,"email","string"===typeof t?t.trim():t)},expression:"userForm.email"}},[r("svg",{staticClass:"icon",attrs:{slot:"prefix","aria-hidden":"true"},slot:"prefix"},[r("use",{attrs:{"xlink:href":"#iconzhanghu"}})])])],1),r("el-form-item",{attrs:{prop:"userPwd"}},[r("el-input",{attrs:{maxlength:12,clearable:"",placeholder:"请设置您的密码",type:"password"},on:{change:function(t){e.errCode=3}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.userForm.userPwd,callback:function(t){e.$set(e.userForm,"userPwd","string"===typeof t?t.trim():t)},expression:"userForm.userPwd"}},[r("svg",{staticClass:"icon",attrs:{slot:"prefix","aria-hidden":"true"},slot:"prefix"},[r("use",{attrs:{"xlink:href":"#iconmima"}})])])],1),r("el-form-item",{attrs:{prop:"userPwdRepeat"}},[r("el-input",{attrs:{maxlength:12,clearable:"",placeholder:"再次设置您的密码",type:"password"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.userForm.userPwdRepeat,callback:function(t){e.$set(e.userForm,"userPwdRepeat","string"===typeof t?t.trim():t)},expression:"userForm.userPwdRepeat"}},[r("svg",{staticClass:"icon",attrs:{slot:"prefix","aria-hidden":"true"},slot:"prefix"},[r("use",{attrs:{"xlink:href":"#iconmima"}})])])],1),r("el-form-item",{staticClass:"login-item",attrs:{prop:"checked"}},[r("el-checkbox",{staticClass:"check",model:{value:e.userForm.checked,callback:function(t){e.$set(e.userForm,"checked",t)},expression:"userForm.checked"}},[e._v(" 我已阅读并同意 "),r("router-link",{staticClass:"link",attrs:{to:""}},[e._v("《隐私政策声明》")])],1)],1),r("el-form-item",{staticClass:"login-item checked-item"},[r("el-button",{attrs:{type:"violet"},on:{click:e.handleLogin}},[e._v("同意协议并注册")])],1)],1)],1)])])},a=[],i=(r("ac1f"),r("5319"),r("3835")),s=(r("96cf"),r("1da1")),o=r("365c"),c=r("ed08"),l={name:"Register",data:function(){var e=this,t=function(e,t,r){t?r():r(new Error("请勾选服务协议"))},r=function(t,r,n){e.userForm.userPwd!==r?n(new Error("两次密码输入不一致")):n()};return{userForm:{phoneNo:"",email:"",userName:"",userPwd:"",userPwdRepeat:"",bsflag:0,checked:!1},formRule:{userName:[{required:!0,message:"请输入用户名",trigger:["blur","change"]}],email:[{required:!0,message:"请输入邮箱",trigger:["blur","change"]}],phoneNo:[{required:!0,message:"请输入手机号",trigger:["blur","change"]},{min:11,max:11,message:"请输入手机号",trigger:["blur","change"]}],userPwd:[{required:!0,message:"请输入密码",trigger:["blur","change"]},{min:6,max:12,message:"长度在 6 到 12 个字符",trigger:["blur","change"]}],userPwdRepeat:[{required:!0,message:"请输入密码",trigger:["blur","change"]},{min:6,max:12,message:"长度在 6 到 12 个字符",trigger:["blur","change"]},{required:!0,validator:r,trigger:["blur","change"]}],checked:[{required:!0,validator:t,trigger:["blur","change"]}]},smsText:"获取验证码",smsNum:0,waiting:!1}},created:function(){this.handleLogin=Object(c["b"])(this.handleLogin)},mounted:function(){return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},methods:{register:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,n,a,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.userForm,n=Object.assign({},r),delete n.userPwdRepeat,delete n.checked,t.next=6,Object(o["register"])(n);case 6:a=t.sent,s=Object(i["a"])(a,1),c=s[0],c||(e.$message({message:"注册成功，请登录",type:"success"}),e.registerSuccess());case 10:case"end":return t.stop()}}),t)})))()},registerSuccess:function(){this.$router.replace("/login")},handleLogin:function(){var e=this;this.$refs.userForm.validate((function(t){t&&e.register()}))},change:function(e){this.$refs.userForm.validateField(e)}}},u=l,m=(r("ab7f"),r("2877")),p=Object(m["a"])(u,n,a,!1,null,"897c5d2c",null);t["default"]=p.exports}}]);
//# sourceMappingURL=user.84ec8c6f.js.map