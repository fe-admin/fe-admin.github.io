{"version":3,"sources":["webpack:///./src/mixins/index.js","webpack:///./src/views/user/Register/index.vue?a7c3","webpack:///./src/views/user/Login/index.vue?1613","webpack:///./src/views/user/Login/index.vue?72bb","webpack:///src/views/user/Login/index.vue","webpack:///./src/views/user/Login/index.vue?c07b","webpack:///./src/views/user/Login/index.vue","webpack:///./src/views/user/Register/index.vue?2424","webpack:///src/views/user/Register/index.vue","webpack:///./src/views/user/Register/index.vue?b8c9","webpack:///./src/views/user/Register/index.vue"],"names":["pageMixin","showButton","data","pageSizes","pageSize","total","currentPage","mapActions","hideDialog","type","this","currentIndex","currentRow","showDialog","scope","$index","row","screenLoading","methods","go","num","$router","push","param","replace","pushState","microPath","appPath","appName","current","localStorage","getItem","isQiankun","history","locationReplace","locationPush","path","url","location","origin","window","microConfig","$push","microId","$replace","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","formData","formRule","_v","nativeOn","$event","preventDefault","on","change","indexOf","_k","keyCode","key","handleLogin","model","value","callback","$$v","$set","trim","expression","errCode","loading","checked","staticRenderFns","name","mixins","accountName","password","smsNumber","smsText","smsNum","waiting","created","debounceSetFullBackground","loginSuccess","$refs","validate","v","validateField","field","beforeDestroy","removeEventListener","component","userForm","slot","Error","phoneNo","email","userName","userPwd","userPwdRepeat","bsflag","registerSuccess"],"mappings":"gQA4BaA,GAhBTC,OAgBqB,CACvBC,KADuB,WAErB,MAAO,CACLC,UAAW,CAAC,GAAI,GAAI,GAAI,KACxBC,SAAU,GACVC,MAAO,EACPC,YAAa,MAiBR,iCACJC,eAAW,CAAC,YADV,IAELC,WAFO,SAEIC,GACTC,KAAA,UAAQD,EAAR,aAAyB,EACzBC,KAAKC,aAAe,KACpBD,KAAKE,WAAa,MAEpBC,WAPO,SAOIJ,EAAMK,GACfJ,KAAA,UAAQD,EAAR,aAAyB,EACrBK,IACFJ,KAAKC,aAAeG,EAAMC,OAC1BL,KAAKE,WAAaE,EAAME,QAWjB,QACbd,KADa,WAEX,MAAO,CAAEe,eAAe,IAE1BC,QAAS,CACPC,GADO,SACJC,GACDV,KAAKW,QAAQF,GAAGC,IAElBE,KAJO,SAIFC,GACHb,KAAKW,QAAQC,KAAKC,IAEpBC,QAPO,SAOCD,GACNb,KAAKW,QAAQG,QAAQD,IAWvBE,UAnBO,SAmBGC,EAAWC,EAASC,GAC5B,IAAMC,EAAUC,aAAaC,QAAQ,WAEjCC,iBACEH,IAAYD,EACdlB,KAAKY,KAAKI,GAEVO,QAAQR,UAAU,KAAMC,EAAWA,GAGjCG,IAAYD,EACdlB,KAAKY,KAAKK,GAEVjB,KAAKwB,gBAAgBP,EAASC,IAapCO,aA7CO,SA6CMC,EAAMR,GACjB,IAAIS,EAAMC,SAASC,OACfC,OAAOC,cACTJ,EAAMT,EAAUY,OAAOC,YAAYb,GAAWU,SAASC,QAEzDD,SAASd,QAAT,UAAoBa,GAApB,OAA0BD,KAU5BF,gBA5DO,SA4DSE,EAAMR,GACpB,IAAIS,EAAMC,SAASC,OACfC,OAAOC,cACTJ,EAAMT,EAAUY,OAAOC,YAAYb,GAAWU,SAASC,QAEzDD,SAASd,QAAT,UAAoBa,GAApB,OAA0BD,KAW5BM,MA5EO,SA4EDhB,EAAWC,EAASC,GACxB,IAAMC,EAAUC,aAAaC,QAAQ,WACnB,WAAdY,iBACFjC,KAAKyB,aAAaT,GACTE,EACLC,IAAYD,EACdlB,KAAKY,KAAKK,GAEVjB,KAAKyB,aAAaR,EAASC,GAG7BlB,KAAKY,KAAKK,IAYdiB,SAnGO,SAmGElB,EAAWC,EAASC,GAC3B,IAAMC,EAAUC,aAAaC,QAAQ,WAEjCC,iBACEH,IAAYD,EACdlB,KAAKY,KAAKI,GAEVhB,KAAKwB,gBAAgBR,GAGnBG,IAAYD,EACdlB,KAAKY,KAAKK,GAEVjB,KAAKwB,gBAAgBP,EAASC,O,2DC7LxC,yBAA4kB,EAAG,G,kCCA/kB,yBAA4kB,EAAG,G,gECA/kB,IAAIiB,EAAS,WAAa,IAAIC,EAAIpC,KAASqC,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,UAAU,CAACG,IAAI,WAAWC,MAAM,CAAC,MAAQP,EAAIQ,SAAS,MAAQR,EAAIS,SAAS,KAAO,WAAW,CAACN,EAAG,MAAM,CAACE,YAAY,OAAO,CAACL,EAAIU,GAAG,UAAUP,EAAG,eAAe,CAACE,YAAY,eAAeE,MAAM,CAAC,KAAO,eAAeI,SAAS,CAAC,OAAS,SAASC,GAAQA,EAAOC,oBAAqB,CAACV,EAAG,WAAW,CAACI,MAAM,CAAC,UAAY,GAAG,UAAY,GAAG,YAAc,OAAOO,GAAG,CAAC,OAAS,SAASF,GAAQ,OAAOZ,EAAIe,OAAO,iBAAiBJ,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOjD,KAAKqD,QAAQ,QAAQhB,EAAIiB,GAAGL,EAAOM,QAAQ,QAAQ,GAAGN,EAAOO,IAAI,SAAkB,KAAcnB,EAAIoB,YAAYR,KAAUS,MAAM,CAACC,MAAOtB,EAAIQ,SAAoB,YAAEe,SAAS,SAAUC,GAAMxB,EAAIyB,KAAKzB,EAAIQ,SAAU,cAA+B,kBAARgB,EAAkBA,EAAIE,OAAQF,IAAOG,WAAW,2BAA2B,GAAGxB,EAAG,eAAe,CAACE,YAAY,eAAeE,MAAM,CAAC,KAAO,aAAa,CAACJ,EAAG,WAAW,CAACI,MAAM,CAAC,UAAY,GAAG,UAAY,GAAG,YAAc,KAAK,KAAO,YAAYO,GAAG,CAAC,OAAS,SAASF,GAAQZ,EAAI4B,QAAU,IAAIjB,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOjD,KAAKqD,QAAQ,QAAQhB,EAAIiB,GAAGL,EAAOM,QAAQ,QAAQ,GAAGN,EAAOO,IAAI,SAAkB,KAAcnB,EAAIoB,YAAYR,KAAUS,MAAM,CAACC,MAAOtB,EAAIQ,SAAiB,SAAEe,SAAS,SAAUC,GAAMxB,EAAIyB,KAAKzB,EAAIQ,SAAU,WAA4B,kBAARgB,EAAkBA,EAAIE,OAAQF,IAAOG,WAAW,wBAAwB,GAAGxB,EAAG,eAAe,CAACE,YAAY,cAAc,CAACF,EAAG,YAAY,CAACI,MAAM,CAAC,QAAUP,EAAI6B,QAAQ,KAAO,UAAUf,GAAG,CAAC,MAAQd,EAAIoB,cAAc,CAACpB,EAAIU,GAAG,SAAS,GAAGP,EAAG,eAAe,CAACE,YAAY,eAAe,CAACF,EAAG,cAAc,CAACkB,MAAM,CAACC,MAAOtB,EAAW,QAAEuB,SAAS,SAAUC,GAAMxB,EAAI8B,QAAQN,GAAKG,WAAW,YAAY,CAAC3B,EAAIU,GAAG,WAAWP,EAAG,aAAa,CAACI,MAAM,CAAC,UAAY,cAAcJ,EAAG,cAAc,CAACI,MAAM,CAAC,GAAK,mBAAmB,CAACP,EAAIU,GAAG,UAAUP,EAAG,aAAa,CAACI,MAAM,CAAC,UAAY,cAAcJ,EAAG,cAAc,CAACI,MAAM,CAAC,GAAK,mBAAmB,CAACP,EAAIU,GAAG,WAAW,IAAI,IAAI,QACvkEqB,EAAkB,G,4IC4EtB,GACEC,KAAM,QACNC,OAAQ,CAACA,EAAX,MACE7E,KAHF,WAII,MAAO,CACL0E,SAAS,EACTD,SAAS,EACTrB,SAAU,CACR0B,YAAalD,aAAaC,QAAQ,cAAgB,GAClDkD,SAAU,IAEZ1B,SAAU,CACRyB,YAAa,CACrB,CACU,UAAV,EACU,QAAV,SACU,QAAV,oBAGQC,SAAU,CAClB,CACU,UAAV,EACU,QAAV,QACU,QAAV,mBAEA,CACU,IAAV,EACU,IAAV,GACU,QAAV,iBACU,QAAV,oBAGQC,UAAW,CACnB,CAAU,UAAV,EAAU,QAAV,SAAU,QAAV,QACA,CAAU,IAAV,EAAU,QAAV,WAAU,QAAV,UAGMC,QAAS,QACTC,OAAQ,EACRC,SAAS,IAGbC,QA1CF,WA2CI5E,KAAK6E,0BAA4B,OAArC,OAAqC,EAArC,WACM,OAAN,OAAM,CAAN,aAEI7E,KAAKwD,YAAc,OAAvB,OAAuB,CAAvB,mBAEE,QAhDF,WAgDA,oLACA,eACA,CACA,WAEA,WACA,0BANA,sCACA,EADA,KACA,EADA,KASA,sBACA,kBACA,yBACA,8DAZA,+CAcEhD,QAAS,OAAX,OAAW,CAAX,kBACA,2BADA,IAEI,MAFJ,WAEA,qKACA,aACA,sCAMA,gBACA,WACA,oCACA,gCAEA,wBAbA,SAcA,oBAdA,OAeA,iBAEA,aAjBA,+CAwBIsE,aA1BJ,WA2BM9E,KAAKW,QAAQC,KAAK,eAGpB4C,YA9BJ,WA8BA,WACMxD,KAAK+E,MAAMnC,SAASoC,UAAS,SAAnC,GACYC,GAAG,EAAf,YAGI9B,OAnCJ,SAmCA,GACMnD,KAAK+E,MAAMnC,SAASsC,cAAcC,MAGtCC,cArGF,WAsGItD,OAAOuD,oBAAoB,SAAUrF,KAAK6E,6BCnL+T,I,wBCQzWS,EAAY,eACd,EACAnD,EACAgC,GACA,EACA,KACA,WACA,MAIa,aAAAmB,E,kDCnBf,IAAInD,EAAS,WAAa,IAAIC,EAAIpC,KAASqC,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,UAAU,CAACG,IAAI,WAAWC,MAAM,CAAC,MAAQP,EAAImD,SAAS,MAAQnD,EAAIS,SAAS,KAAO,WAAW,CAACN,EAAG,MAAM,CAACE,YAAY,OAAO,CAACL,EAAIU,GAAG,UAAUP,EAAG,eAAe,CAACI,MAAM,CAAC,KAAO,YAAYI,SAAS,CAAC,OAAS,SAASC,GAAQA,EAAOC,oBAAqB,CAACV,EAAG,WAAW,CAACI,MAAM,CAAC,UAAY,GAAG,UAAY,GAAG,YAAc,UAAUO,GAAG,CAAC,MAAQ,SAASF,GAAQ,OAAOZ,EAAIe,OAAO,cAAcJ,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOjD,KAAKqD,QAAQ,QAAQhB,EAAIiB,GAAGL,EAAOM,QAAQ,QAAQ,GAAGN,EAAOO,IAAI,SAAkB,KAAcnB,EAAIoB,YAAYR,KAAUS,MAAM,CAACC,MAAOtB,EAAImD,SAAiB,SAAE5B,SAAS,SAAUC,GAAMxB,EAAIyB,KAAKzB,EAAImD,SAAU,WAA4B,kBAAR3B,EAAkBA,EAAIE,OAAQF,IAAOG,WAAW,sBAAsB,CAACxB,EAAG,MAAM,CAACE,YAAY,OAAOE,MAAM,CAAC,KAAO,SAAS,cAAc,QAAQ6C,KAAK,UAAU,CAACjD,EAAG,MAAM,CAACI,MAAM,CAAC,aAAa,uBAAuB,GAAGJ,EAAG,eAAe,CAACI,MAAM,CAAC,KAAO,WAAWI,SAAS,CAAC,OAAS,SAASC,GAAQA,EAAOC,oBAAqB,CAACV,EAAG,WAAW,CAACI,MAAM,CAAC,UAAY,GAAG,UAAY,GAAG,YAAc,UAAUO,GAAG,CAAC,MAAQ,SAASF,GAAQ,OAAOZ,EAAIe,OAAO,aAAaJ,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOjD,KAAKqD,QAAQ,QAAQhB,EAAIiB,GAAGL,EAAOM,QAAQ,QAAQ,GAAGN,EAAOO,IAAI,SAAkB,KAAcnB,EAAIoB,YAAYR,KAAUS,MAAM,CAACC,MAAOtB,EAAImD,SAAgB,QAAE5B,SAAS,SAAUC,GAAMxB,EAAIyB,KAAKzB,EAAImD,SAAU,UAA2B,kBAAR3B,EAAkBA,EAAIE,OAAQF,IAAOG,WAAW,qBAAqB,CAACxB,EAAG,MAAM,CAACE,YAAY,OAAOE,MAAM,CAAC,KAAO,SAAS,cAAc,QAAQ6C,KAAK,UAAU,CAACjD,EAAG,MAAM,CAACI,MAAM,CAAC,aAAa,uBAAuB,GAAGJ,EAAG,eAAe,CAACI,MAAM,CAAC,KAAO,SAASI,SAAS,CAAC,OAAS,SAASC,GAAQA,EAAOC,oBAAqB,CAACV,EAAG,WAAW,CAACI,MAAM,CAAC,UAAY,GAAG,UAAY,GAAG,YAAc,SAASO,GAAG,CAAC,MAAQ,SAASF,GAAQ,OAAOZ,EAAIe,OAAO,WAAWJ,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOjD,KAAKqD,QAAQ,QAAQhB,EAAIiB,GAAGL,EAAOM,QAAQ,QAAQ,GAAGN,EAAOO,IAAI,SAAkB,KAAcnB,EAAIoB,YAAYR,KAAUS,MAAM,CAACC,MAAOtB,EAAImD,SAAc,MAAE5B,SAAS,SAAUC,GAAMxB,EAAIyB,KAAKzB,EAAImD,SAAU,QAAyB,kBAAR3B,EAAkBA,EAAIE,OAAQF,IAAOG,WAAW,mBAAmB,CAACxB,EAAG,MAAM,CAACE,YAAY,OAAOE,MAAM,CAAC,KAAO,SAAS,cAAc,QAAQ6C,KAAK,UAAU,CAACjD,EAAG,MAAM,CAACI,MAAM,CAAC,aAAa,uBAAuB,GAAGJ,EAAG,eAAe,CAACI,MAAM,CAAC,KAAO,YAAY,CAACJ,EAAG,WAAW,CAACI,MAAM,CAAC,UAAY,GAAG,UAAY,GAAG,YAAc,UAAU,KAAO,YAAYO,GAAG,CAAC,OAAS,SAASF,GAAQZ,EAAI4B,QAAU,IAAIjB,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOjD,KAAKqD,QAAQ,QAAQhB,EAAIiB,GAAGL,EAAOM,QAAQ,QAAQ,GAAGN,EAAOO,IAAI,SAAkB,KAAcnB,EAAIoB,YAAYR,KAAUS,MAAM,CAACC,MAAOtB,EAAImD,SAAgB,QAAE5B,SAAS,SAAUC,GAAMxB,EAAIyB,KAAKzB,EAAImD,SAAU,UAA2B,kBAAR3B,EAAkBA,EAAIE,OAAQF,IAAOG,WAAW,qBAAqB,CAACxB,EAAG,MAAM,CAACE,YAAY,OAAOE,MAAM,CAAC,KAAO,SAAS,cAAc,QAAQ6C,KAAK,UAAU,CAACjD,EAAG,MAAM,CAACI,MAAM,CAAC,aAAa,oBAAoB,GAAGJ,EAAG,eAAe,CAACI,MAAM,CAAC,KAAO,kBAAkB,CAACJ,EAAG,WAAW,CAACI,MAAM,CAAC,UAAY,GAAG,UAAY,GAAG,YAAc,WAAW,KAAO,YAAYI,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOjD,KAAKqD,QAAQ,QAAQhB,EAAIiB,GAAGL,EAAOM,QAAQ,QAAQ,GAAGN,EAAOO,IAAI,SAAkB,KAAcnB,EAAIoB,YAAYR,KAAUS,MAAM,CAACC,MAAOtB,EAAImD,SAAsB,cAAE5B,SAAS,SAAUC,GAAMxB,EAAIyB,KAAKzB,EAAImD,SAAU,gBAAiC,kBAAR3B,EAAkBA,EAAIE,OAAQF,IAAOG,WAAW,2BAA2B,CAACxB,EAAG,MAAM,CAACE,YAAY,OAAOE,MAAM,CAAC,KAAO,SAAS,cAAc,QAAQ6C,KAAK,UAAU,CAACjD,EAAG,MAAM,CAACI,MAAM,CAAC,aAAa,oBAAoB,GAAGJ,EAAG,eAAe,CAACE,YAAY,aAAaE,MAAM,CAAC,KAAO,YAAY,CAACJ,EAAG,cAAc,CAACE,YAAY,QAAQgB,MAAM,CAACC,MAAOtB,EAAImD,SAAgB,QAAE5B,SAAS,SAAUC,GAAMxB,EAAIyB,KAAKzB,EAAImD,SAAU,UAAW3B,IAAMG,WAAW,qBAAqB,CAAC3B,EAAIU,GAAG,aAAaP,EAAG,cAAc,CAACE,YAAY,OAAOE,MAAM,CAAC,GAAK,KAAK,CAACP,EAAIU,GAAG,eAAe,IAAI,GAAGP,EAAG,eAAe,CAACE,YAAY,2BAA2B,CAACF,EAAG,YAAY,CAACI,MAAM,CAAC,KAAO,UAAUO,GAAG,CAAC,MAAQd,EAAIoB,cAAc,CAACpB,EAAIU,GAAG,cAAc,IAAI,IAAI,QAC1xIqB,EAAkB,G,kFCqGtB,GACEC,KAAM,WACN5E,KAFF,WAEA,WACA,kBACWkE,EAGHC,IAFAA,EAAS,IAAI8B,MAAM,aAK3B,kBACU,EAAV,qBACQ9B,EAAS,IAAI8B,MAAM,cAEnB9B,KAGJ,MAAO,CACL4B,SAAU,CACRG,QAAS,GACTC,MAAO,GACPC,SAAU,GACVC,QAAS,GACTC,cAAe,GACfC,OAAQ,EACR7B,SAAS,GAGXrB,SAAU,CACR+C,SAAU,CAClB,CACU,UAAV,EACU,QAAV,SACU,QAAV,oBAGQD,MAAO,CACf,CACU,UAAV,EACU,QAAV,QACU,QAAV,oBAGQD,QAAS,CACjB,CACU,UAAV,EACU,QAAV,SACU,QAAV,mBAEA,CACU,IAAV,GACU,IAAV,GACU,QAAV,SACU,QAAV,oBAGQG,QAAS,CACjB,CACU,UAAV,EACU,QAAV,QACU,QAAV,mBAEA,CACU,IAAV,EACU,IAAV,GACU,QAAV,iBACU,QAAV,oBAGQC,cAAe,CACvB,CACU,UAAV,EACU,QAAV,QACU,QAAV,mBAEA,CACU,IAAV,EACU,IAAV,GACU,QAAV,iBACU,QAAV,mBAEA,CACU,UAAV,EACU,UAAV,EACU,QAAV,oBAGQ5B,QAAS,CACjB,CACU,UAAV,EACU,UAAV,EACU,QAAV,qBAIMO,QAAS,QACTC,OAAQ,EACRC,SAAS,IAGbC,QApGF,WAqGI5E,KAAK6E,0BAA4B,OAArC,OAAqC,EAArC,WACM,OAAN,OAAM,CAAN,gBAEI7E,KAAKwD,YAAc,OAAvB,OAAuB,CAAvB,mBAEE,QA1GF,WA0GA,wJACA,4BACA,8DAFA,8CAIEhD,QAAS,CACP,SADJ,WACA,6KACA,aACA,6BACA,uBACA,UAJA,SAKA,kBALA,sCAKA,EALA,KAMA,IACA,YACA,mBACA,iBAEA,qBAXA,+CAcIwF,gBAfJ,WAgBMhG,KAAKW,QAAQG,QAAQ,WAGvB0C,YAnBJ,WAmBA,WACMxD,KAAK+E,MAAMQ,SAASP,UAAS,SAAnC,GACYC,GAAG,EAAf,eAGI9B,OAxBJ,SAwBA,GACMnD,KAAK+E,MAAMQ,SAASL,cAAcC,KAGtCC,cA1IF,WA2IItD,OAAOuD,oBAAoB,SAAUrF,KAAK6E,6BCjP+T,I,wBCQzWS,EAAY,eACd,EACAnD,EACAgC,GACA,EACA,KACA,WACA,MAIa,aAAAmB,E","file":"js/user.cd67f993.js","sourcesContent":["import { mapActions } from \"vuex\";\nimport { microId, showButton, isQiankun } from \"../utils\";\nimport { getButtonList } from \"../api\";\n\nexport const authMixin = {\n  data() {\n    return { buttonList: [] };\n  },\n  mounted() {\n    this.getButtonList();\n  },\n  methods: {\n    showButton,\n    async getButtonList() {\n      const { mid } = this.$route.query;\n      if (!mid) return;\n      const [err, result] = await getButtonList(mid);\n      this.buttonList = result;\n    },\n  },\n};\n\n/**\n * 分页混入\n * @date 2020-08-14\n * @returns {any}\n */\n\nexport const pageMixin = {\n  data() {\n    return {\n      pageSizes: [10, 20, 50, 100],\n      pageSize: 10, // 每页显示条目个数\n      total: 1, // 总条目数\n      currentPage: 1,\n    };\n  },\n};\n\n/**\n * 全局弹窗混入\n * @date 2020-08-14\n * @returns {any}\n */\nexport const dialogMixin = {\n  data() {\n    return {\n      currentIndex: null,\n      currentRow: null,\n    };\n  },\n  methods: {\n    ...mapActions([\"update\"]),\n    hideDialog(type) {\n      this[`${type}Visible`] = false;\n      this.currentIndex = null;\n      this.currentRow = null;\n    },\n    showDialog(type, scope) {\n      this[`${type}Visible`] = true;\n      if (scope) {\n        this.currentIndex = scope.$index;\n        this.currentRow = scope.row;\n      }\n    },\n  },\n};\n/**\n * 默认混入 路由 && loading\n * @date 2020-08-14\n * @returns {any}\n */\n\nexport default {\n  data() {\n    return { screenLoading: false };\n  },\n  methods: {\n    go(num) {\n      this.$router.go(num);\n    },\n    push(param) {\n      this.$router.push(param);\n    },\n    replace(param) {\n      this.$router.replace(param);\n    },\n\n    /**\n     * 跨应用路由跳转\n     * @date 2020-08-14\n     * @param {any} microPath 微服务path\n     * @param {any} appPath 应用内path\n     * @param {any} appName 非微服务第三方跳转\n     * @returns {any}\n     */\n    pushState(microPath, appPath, appName) {\n      const current = localStorage.getItem(\"microId\");\n      // 微服务\n      if (isQiankun()) {\n        if (current === appName) {\n          this.push(microPath);\n        } else {\n          history.pushState(null, microPath, microPath);\n        }\n      } else {\n        if (current === appName) {\n          this.push(appPath);\n        } else {\n          this.locationReplace(appPath, appName);\n        }\n      }\n    },\n\n    /**\n     * 根据appName切换origin\n     * @date 2020-08-14\n     * @param {any} path\n     * @param {any} appName\n     * @returns {any}\n     */\n\n    locationPush(path, appName) {\n      let url = location.origin;\n      if (window.microConfig) {\n        url = appName ? window.microConfig[appName] : location.origin;\n      }\n      location.replace(`${url}${path}`);\n    },\n\n    /**\n     * 根据appName切换origin\n     * @date 2020-08-14\n     * @param {any} path\n     * @param {any} appName\n     * @returns {any}\n     */\n    locationReplace(path, appName) {\n      let url = location.origin;\n      if (window.microConfig) {\n        url = appName ? window.microConfig[appName] : location.origin;\n      }\n      location.replace(`${url}${path}`);\n    },\n\n    /**\n     * 路由跳转\n     * @date 2020-08-14\n     * @param {any} microPath 微服务path\n     * @param {any} appPath 应用内path\n     * @param {any} appName 非微服务第三方跳转\n     * @returns {any}\n     */\n    $push(microPath, appPath, appName) {\n      const current = localStorage.getItem(\"microId\");\n      if (microId() === \"portal\") {\n        this.locationPush(microPath);\n      } else if (appName) {\n        if (current === appName) {\n          this.push(appPath);\n        } else {\n          this.locationPush(appPath, appName);\n        }\n      } else {\n        this.push(appPath);\n      }\n    },\n\n    /**\n     * 跨应用路由跳转\n     * @date 2020-08-14\n     * @param {any} microPath 微服务path\n     * @param {any} appPath 应用内path\n     * @param {any} appName 非微服务第三方跳转\n     * @returns {any}\n     */\n    $replace(microPath, appPath, appName) {\n      const current = localStorage.getItem(\"microId\");\n      // 微服务\n      if (isQiankun()) {\n        if (current === appName) {\n          this.push(microPath);\n        } else {\n          this.locationReplace(microPath);\n        }\n      } else {\n        if (current === appName) {\n          this.push(appPath);\n        } else {\n          this.locationReplace(appPath, appName);\n        }\n      }\n    },\n  },\n};\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=dd9db746&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=dd9db746&lang=scss&scoped=true&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=b875eea4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=b875eea4&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[_c('div',{staticClass:\"login-content\"},[_c('div',{staticClass:\"login-form\"},[_c('el-form',{ref:\"formData\",attrs:{\"model\":_vm.formData,\"rules\":_vm.formRule,\"size\":\"medium\"}},[_c('div',{staticClass:\"tit\"},[_vm._v(\"帐号登录\")]),_c('el-form-item',{staticClass:\"el-form-line\",attrs:{\"prop\":\"accountName\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-input',{attrs:{\"maxlength\":11,\"clearable\":\"\",\"placeholder\":\"账户名\"},on:{\"change\":function($event){return _vm.change('accountName')}},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleLogin($event)}},model:{value:(_vm.formData.accountName),callback:function ($$v) {_vm.$set(_vm.formData, \"accountName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formData.accountName\"}})],1),_c('el-form-item',{staticClass:\"el-form-line\",attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"maxlength\":12,\"clearable\":\"\",\"placeholder\":\"密码\",\"type\":\"password\"},on:{\"change\":function($event){_vm.errCode = 3}},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleLogin($event)}},model:{value:(_vm.formData.password),callback:function ($$v) {_vm.$set(_vm.formData, \"password\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formData.password\"}})],1),_c('el-form-item',{staticClass:\"login-item\"},[_c('el-button',{attrs:{\"loading\":_vm.loading,\"type\":\"violet\"},on:{\"click\":_vm.handleLogin}},[_vm._v(\"登录\")])],1),_c('el-form-item',{staticClass:\"rememberpwd\"},[_c('el-checkbox',{model:{value:(_vm.checked),callback:function ($$v) {_vm.checked=$$v},expression:\"checked\"}},[_vm._v(\"记住登录名\")]),_c('el-divider',{attrs:{\"direction\":\"vertical\"}}),_c('router-link',{attrs:{\"to\":\"/user/register\"}},[_vm._v(\"免费注册\")]),_c('el-divider',{attrs:{\"direction\":\"vertical\"}}),_c('router-link',{attrs:{\"to\":\"/user/register\"}},[_vm._v(\"忘记密码\")])],1)],1)],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"login\">\n    <div class=\"login-content\">\n      <div class=\"login-form\">\n        <el-form\n          :model=\"formData\"\n          :rules=\"formRule\"\n          ref=\"formData\"\n          size=\"medium\"\n        >\n          <div class=\"tit\">帐号登录</div>\n          <el-form-item\n            prop=\"accountName\"\n            class=\"el-form-line\"\n            @submit.native.prevent\n          >\n            <el-input\n              @keyup.enter.native=\"handleLogin\"\n              :maxlength=\"11\"\n              @change=\"change('accountName')\"\n              clearable\n              placeholder=\"账户名\"\n              v-model.trim=\"formData.accountName\"\n            >\n            </el-input>\n          </el-form-item>\n          <el-form-item prop=\"password\" class=\"el-form-line\">\n            <el-input\n              @keyup.enter.native=\"handleLogin\"\n              :maxlength=\"12\"\n              @change=\"errCode = 3\"\n              clearable\n              placeholder=\"密码\"\n              type=\"password\"\n              v-model.trim=\"formData.password\"\n            >\n            </el-input>\n          </el-form-item>\n          <!-- <el-form-item prop=\"smsNumber\">\n            <el-input\n              @keyup.enter.native=\"handleLogin\"\n              :maxlength=\"6\"\n              @change=\"errCode = 3\"\n              clearable\n              placeholder=\"验证码\"\n              v-model=\"formData.smsNumber\"\n            >\n              <svg aria-hidden=\"true\" class=\"icon\" slot=\"prefix\">\n                <use xlink:href=\"#iconyanzhengma\" />\n              </svg>\n            </el-input>\n            <span @click=\"getSmsNumber\" class=\"tip\">{{ getSmsText() }}</span>\n          </el-form-item>-->\n\n          <el-form-item class=\"login-item\">\n            <el-button :loading=\"loading\" @click=\"handleLogin\" type=\"violet\"\n              >登录</el-button\n            >\n          </el-form-item>\n          <el-form-item class=\"rememberpwd\">\n            <el-checkbox v-model=\"checked\">记住登录名</el-checkbox>\n            <el-divider direction=\"vertical\"></el-divider>\n            <router-link to=\"/user/register\">免费注册</router-link>\n            <el-divider direction=\"vertical\"></el-divider>\n            <router-link to=\"/user/register\">忘记密码</router-link>\n          </el-form-item>\n        </el-form>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { mapActions } from \"vuex\";\nimport { login, userTest } from \"@/api\";\nimport { debounce, sleep, setFullBackground, $replace } from \"@/utils\";\nimport { setToken } from \"@/utils/auth\";\nimport mixins from \"@/mixins\";\nexport default {\n  name: \"Login\",\n  mixins: [mixins],\n  data() {\n    return {\n      checked: false,\n      loading: false,\n      formData: {\n        accountName: localStorage.getItem(\"_userName\") || \"\",\n        password: \"\",\n      },\n      formRule: {\n        accountName: [\n          {\n            required: true,\n            message: \"请输入账户名\",\n            trigger: [\"change\", \"blur\"],\n          },\n        ],\n        password: [\n          {\n            required: true,\n            message: \"请输入密码\",\n            trigger: [\"change\", \"blur\"],\n          },\n          {\n            min: 6,\n            max: 12,\n            message: \"长度在 6 到 12 个字符\",\n            trigger: [\"change\", \"blur\"],\n          },\n        ],\n        smsNumber: [\n          { required: true, message: \"请输入验证码\", trigger: \"blur\" },\n          { len: 6, message: \"请输入6位验证码\", trigger: \"blur\" },\n        ],\n      },\n      smsText: \"获取验证码\",\n      smsNum: 0,\n      waiting: false,\n    };\n  },\n  created() {\n    this.debounceSetFullBackground = debounce(() => {\n      setFullBackground(\".login\");\n    });\n    this.handleLogin = debounce(this.handleLogin);\n  },\n  async mounted() {\n    const [err, res] = await userTest(\n      {\n        name: 111,\n      },\n      () => {\n        console.info(\"handle\");\n      }\n    );\n    console.info(1111111);\n    console.info(err, res);\n    setFullBackground(\".login\");\n    window.addEventListener(\"resize\", this.debounceSetFullBackground);\n  },\n  methods: {\n    ...mapActions([\"Login\"]),\n    async login() {\n      this.loading = true;\n      const result = Object.assign(this.formData, { token: 1 });\n      // const [, result] = await login(this.formData);\n      // if (result) {\n      // if (this.checked) {\n      //   localStorage.setItem(\"_userName\", result.accountName);\n      // }\n      console.info(result);\n      this.Login(result);\n      Object.keys(result).forEach((key) => {\n        localStorage.setItem(key, result[key]);\n      });\n      setToken(result.token);\n      await sleep(1000);\n      this.loginSuccess();\n      // }\n      this.loading = false;\n    },\n    /**\n     * 登录成功后回调接口\n     * @date 2020-08-13\n     * @returns {any}\n     */\n    loginSuccess() {\n      this.$router.push(\"/dashboard\");\n    },\n    // 账号密码非空验证\n    handleLogin() {\n      this.$refs.formData.validate((v) => {\n        if (v) this.login();\n      });\n    },\n    change(field) {\n      this.$refs.formData.validateField(field);\n    },\n  },\n  beforeDestroy() {\n    window.removeEventListener(\"resize\", this.debounceSetFullBackground);\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.login {\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  min-height: 700px;\n  margin: 0 auto;\n  position: relative;\n  /deep/.el-form-item__content {\n    flex: 1;\n  }\n  &-content {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: url(\"~@/assets/imgs/login.svg\") 0 0 no-repeat;\n    z-index: 90;\n    min-height: 100%;\n    flex: 1;\n  }\n\n  &-form {\n    width: 400px;\n    height: 453px;\n    padding: 29px 40px 0;\n    background: rgba(255, 255, 255, 1);\n    box-shadow: 0px 0px 16px 0px rgba(54, 54, 64, 0.2);\n    border-radius: 4px;\n    .tit {\n      font-size: 21px;\n      font-weight: 400;\n      color: rgba(51, 51, 51, 1);\n      line-height: 29px;\n      padding-bottom: 8px;\n      width: 79px;\n      margin: 0 auto 18px;\n      white-space: nowrap;\n      border-bottom: solid 3px $-aside-menu-color;\n    }\n    .el-form-item {\n      height: 52px;\n      .el-input,\n      /deep/.el-input__inner {\n        padding: 0;\n        border: none;\n      }\n    }\n    .el-form-line {\n      border-bottom: solid 1px rgba(218, 223, 229, 1);\n    }\n    .el-divider--vertical {\n      margin-top: 18px;\n    }\n\n    /deep/.el-form-item__content {\n      display: flex;\n      flex: 1;\n      line-height: 52px;\n    }\n  }\n  .login-item /deep/.el-form-item__content {\n    flex: 1;\n    justify-content: space-between;\n  }\n  .rememberpwd /deep/.el-form-item__content {\n    color: $--link-color;\n    justify-content: space-between;\n  }\n  .el-button--violet {\n    width: 100%;\n  }\n  a {\n    font-weight: 500;\n    text-decoration: none;\n    color: $--font-color;\n  }\n  a:hover {\n    text-decoration: underline;\n    color: $--link-color;\n  }\n  .el-form-item.is-error .el-input__inner,\n  .el-form-item.is-error .el-input__inner:focus,\n  .el-form-item.is-error .el-textarea__inner,\n  .el-form-item.is-error .el-textarea__inner:focus {\n    border-color: #df1616;\n  }\n  .el-form-item__error {\n    top: 55px;\n  }\n  .login {\n    input::placeholder {\n      color: #999;\n    }\n\n    .el-input__inner {\n      line-height: 52px;\n      border: none;\n      padding-left: 34px;\n    }\n    .el-button {\n      letter-spacing: 5px;\n      border-radius: 18px;\n      font-size: 16px;\n      height: 36px;\n      line-height: 36px;\n      padding: 0 12px;\n    }\n\n    .el-form-item__error {\n      display: inline-block;\n      position: static;\n      margin-left: 5px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=b875eea4&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=b875eea4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b875eea4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"register\"},[_c('div',{staticClass:\"register-content\"},[_c('div',{staticClass:\"register-form\"},[_c('el-form',{ref:\"userForm\",attrs:{\"model\":_vm.userForm,\"rules\":_vm.formRule,\"size\":\"medium\"}},[_c('div',{staticClass:\"tit\"},[_vm._v(\"帐号注册\")]),_c('el-form-item',{attrs:{\"prop\":\"userName\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-input',{attrs:{\"maxlength\":11,\"clearable\":\"\",\"placeholder\":\"请输入用户名\"},on:{\"input\":function($event){return _vm.change('userName')}},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleLogin($event)}},model:{value:(_vm.userForm.userName),callback:function ($$v) {_vm.$set(_vm.userForm, \"userName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"userForm.userName\"}},[_c('svg',{staticClass:\"icon\",attrs:{\"slot\":\"prefix\",\"aria-hidden\":\"true\"},slot:\"prefix\"},[_c('use',{attrs:{\"xlink:href\":\"#iconzhanghu\"}})])])],1),_c('el-form-item',{attrs:{\"prop\":\"phoneNo\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-input',{attrs:{\"maxlength\":11,\"clearable\":\"\",\"placeholder\":\"请输入手机号\"},on:{\"input\":function($event){return _vm.change('phoneNo')}},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleLogin($event)}},model:{value:(_vm.userForm.phoneNo),callback:function ($$v) {_vm.$set(_vm.userForm, \"phoneNo\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"userForm.phoneNo\"}},[_c('svg',{staticClass:\"icon\",attrs:{\"slot\":\"prefix\",\"aria-hidden\":\"true\"},slot:\"prefix\"},[_c('use',{attrs:{\"xlink:href\":\"#iconzhanghu\"}})])])],1),_c('el-form-item',{attrs:{\"prop\":\"email\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-input',{attrs:{\"maxlength\":50,\"clearable\":\"\",\"placeholder\":\"请输入邮箱\"},on:{\"input\":function($event){return _vm.change('email')}},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleLogin($event)}},model:{value:(_vm.userForm.email),callback:function ($$v) {_vm.$set(_vm.userForm, \"email\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"userForm.email\"}},[_c('svg',{staticClass:\"icon\",attrs:{\"slot\":\"prefix\",\"aria-hidden\":\"true\"},slot:\"prefix\"},[_c('use',{attrs:{\"xlink:href\":\"#iconzhanghu\"}})])])],1),_c('el-form-item',{attrs:{\"prop\":\"userPwd\"}},[_c('el-input',{attrs:{\"maxlength\":12,\"clearable\":\"\",\"placeholder\":\"请设置您的密码\",\"type\":\"password\"},on:{\"change\":function($event){_vm.errCode = 3}},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleLogin($event)}},model:{value:(_vm.userForm.userPwd),callback:function ($$v) {_vm.$set(_vm.userForm, \"userPwd\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"userForm.userPwd\"}},[_c('svg',{staticClass:\"icon\",attrs:{\"slot\":\"prefix\",\"aria-hidden\":\"true\"},slot:\"prefix\"},[_c('use',{attrs:{\"xlink:href\":\"#iconmima\"}})])])],1),_c('el-form-item',{attrs:{\"prop\":\"userPwdRepeat\"}},[_c('el-input',{attrs:{\"maxlength\":12,\"clearable\":\"\",\"placeholder\":\"再次设置您的密码\",\"type\":\"password\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleLogin($event)}},model:{value:(_vm.userForm.userPwdRepeat),callback:function ($$v) {_vm.$set(_vm.userForm, \"userPwdRepeat\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"userForm.userPwdRepeat\"}},[_c('svg',{staticClass:\"icon\",attrs:{\"slot\":\"prefix\",\"aria-hidden\":\"true\"},slot:\"prefix\"},[_c('use',{attrs:{\"xlink:href\":\"#iconmima\"}})])])],1),_c('el-form-item',{staticClass:\"login-item\",attrs:{\"prop\":\"checked\"}},[_c('el-checkbox',{staticClass:\"check\",model:{value:(_vm.userForm.checked),callback:function ($$v) {_vm.$set(_vm.userForm, \"checked\", $$v)},expression:\"userForm.checked\"}},[_vm._v(\" 我已阅读并同意 \"),_c('router-link',{staticClass:\"link\",attrs:{\"to\":\"\"}},[_vm._v(\"《隐私政策声明》\")])],1)],1),_c('el-form-item',{staticClass:\"login-item checked-item\"},[_c('el-button',{attrs:{\"type\":\"violet\"},on:{\"click\":_vm.handleLogin}},[_vm._v(\"同意协议并注册\")])],1)],1)],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"register\">\n    <div class=\"register-content\">\n      <div class=\"register-form\">\n        <el-form\n          :model=\"userForm\"\n          :rules=\"formRule\"\n          ref=\"userForm\"\n          size=\"medium\"\n        >\n          <div class=\"tit\">帐号注册</div>\n          <el-form-item prop=\"userName\" @submit.native.prevent>\n            <el-input\n              @keyup.enter.native=\"handleLogin\"\n              :maxlength=\"11\"\n              @input=\"change('userName')\"\n              clearable\n              placeholder=\"请输入用户名\"\n              v-model.trim=\"userForm.userName\"\n            >\n              <svg aria-hidden=\"true\" class=\"icon\" slot=\"prefix\">\n                <use xlink:href=\"#iconzhanghu\" />\n              </svg>\n            </el-input>\n          </el-form-item>\n          <el-form-item prop=\"phoneNo\" @submit.native.prevent>\n            <el-input\n              @keyup.enter.native=\"handleLogin\"\n              :maxlength=\"11\"\n              @input=\"change('phoneNo')\"\n              clearable\n              placeholder=\"请输入手机号\"\n              v-model.trim=\"userForm.phoneNo\"\n            >\n              <svg aria-hidden=\"true\" class=\"icon\" slot=\"prefix\">\n                <use xlink:href=\"#iconzhanghu\" />\n              </svg>\n            </el-input>\n          </el-form-item>\n          <el-form-item prop=\"email\" @submit.native.prevent>\n            <el-input\n              @keyup.enter.native=\"handleLogin\"\n              :maxlength=\"50\"\n              @input=\"change('email')\"\n              clearable\n              placeholder=\"请输入邮箱\"\n              v-model.trim=\"userForm.email\"\n            >\n              <svg aria-hidden=\"true\" class=\"icon\" slot=\"prefix\">\n                <use xlink:href=\"#iconzhanghu\" />\n              </svg>\n            </el-input>\n          </el-form-item>\n          <el-form-item prop=\"userPwd\">\n            <el-input\n              @keyup.enter.native=\"handleLogin\"\n              :maxlength=\"12\"\n              @change=\"errCode = 3\"\n              clearable\n              placeholder=\"请设置您的密码\"\n              type=\"password\"\n              v-model.trim=\"userForm.userPwd\"\n            >\n              <svg aria-hidden=\"true\" class=\"icon\" slot=\"prefix\">\n                <use xlink:href=\"#iconmima\" />\n              </svg>\n            </el-input>\n          </el-form-item>\n          <el-form-item prop=\"userPwdRepeat\">\n            <el-input\n              @keyup.enter.native=\"handleLogin\"\n              :maxlength=\"12\"\n              clearable\n              placeholder=\"再次设置您的密码\"\n              type=\"password\"\n              v-model.trim=\"userForm.userPwdRepeat\"\n            >\n              <svg aria-hidden=\"true\" class=\"icon\" slot=\"prefix\">\n                <use xlink:href=\"#iconmima\" />\n              </svg>\n            </el-input>\n          </el-form-item>\n          <el-form-item class=\"login-item\" prop=\"checked\">\n            <el-checkbox class=\"check\" v-model=\"userForm.checked\">\n              我已阅读并同意\n              <router-link class=\"link\" to>《隐私政策声明》</router-link>\n            </el-checkbox>\n          </el-form-item>\n          <el-form-item class=\"login-item checked-item\">\n            <el-button @click=\"handleLogin\" type=\"violet\"\n              >同意协议并注册</el-button\n            >\n          </el-form-item>\n        </el-form>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { register } from \"@/api\";\nimport { debounce, setFullBackground } from \"@/utils\";\n\nexport default {\n  name: \"Register\",\n  data() {\n    const validateChecked = (rule, value, callback) => {\n      if (!value) {\n        callback(new Error(\"请勾选服务协议\"));\n      } else {\n        callback();\n      }\n    };\n    const validatePwd = (rule, value, callback) => {\n      if (this.userForm.userPwd !== value) {\n        callback(new Error(\"两次密码输入不一致\"));\n      } else {\n        callback();\n      }\n    };\n    return {\n      userForm: {\n        phoneNo: \"\",\n        email: \"\",\n        userName: \"\",\n        userPwd: \"\",\n        userPwdRepeat: \"\",\n        bsflag: 0,\n        checked: false,\n      },\n\n      formRule: {\n        userName: [\n          {\n            required: true,\n            message: \"请输入用户名\",\n            trigger: [\"blur\", \"change\"],\n          },\n        ],\n        email: [\n          {\n            required: true,\n            message: \"请输入邮箱\",\n            trigger: [\"blur\", \"change\"],\n          },\n        ],\n        phoneNo: [\n          {\n            required: true,\n            message: \"请输入手机号\",\n            trigger: [\"blur\", \"change\"],\n          },\n          {\n            min: 11,\n            max: 11,\n            message: \"请输入手机号\",\n            trigger: [\"blur\", \"change\"],\n          },\n        ],\n        userPwd: [\n          {\n            required: true,\n            message: \"请输入密码\",\n            trigger: [\"blur\", \"change\"],\n          },\n          {\n            min: 6,\n            max: 12,\n            message: \"长度在 6 到 12 个字符\",\n            trigger: [\"blur\", \"change\"],\n          },\n        ],\n        userPwdRepeat: [\n          {\n            required: true,\n            message: \"请输入密码\",\n            trigger: [\"blur\", \"change\"],\n          },\n          {\n            min: 6,\n            max: 12,\n            message: \"长度在 6 到 12 个字符\",\n            trigger: [\"blur\", \"change\"],\n          },\n          {\n            required: true,\n            validator: validatePwd,\n            trigger: [\"blur\", \"change\"],\n          },\n        ],\n        checked: [\n          {\n            required: true,\n            validator: validateChecked,\n            trigger: [\"blur\", \"change\"],\n          },\n        ],\n      },\n      smsText: \"获取验证码\",\n      smsNum: 0,\n      waiting: false,\n    };\n  },\n  created() {\n    this.debounceSetFullBackground = debounce(() => {\n      setFullBackground(\".register\");\n    });\n    this.handleLogin = debounce(this.handleLogin);\n  },\n  async mounted() {\n    setFullBackground(\".register\");\n    window.addEventListener(\"resize\", this.debounceSetFullBackground);\n  },\n  methods: {\n    async register() {\n      const { userForm } = this;\n      const params = Object.assign({}, userForm);\n      delete params.userPwdRepeat;\n      delete params.checked;\n      const [err] = await register(params);\n      if (!err) {\n        this.$message({\n          message: \"注册成功，请登录\",\n          type: \"success\",\n        });\n        this.registerSuccess();\n      }\n    },\n    registerSuccess() {\n      this.$router.replace(\"/login\");\n    },\n    // 账号密码非空验证\n    handleLogin() {\n      this.$refs.userForm.validate((v) => {\n        if (v) this.register();\n      });\n    },\n    change(field) {\n      this.$refs.userForm.validateField(field);\n    },\n  },\n  beforeDestroy() {\n    window.removeEventListener(\"resize\", this.debounceSetFullBackground);\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.register {\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  margin: 0 auto;\n  position: relative;\n  &-content {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: url(\"~@/assets/imgs/login.svg\") 0 0 no-repeat;\n    height: 100%;\n    z-index: 90;\n  }\n\n  &-form {\n    width: 400px;\n    height: 470px;\n    padding: 29px 40px 0;\n    background: rgba(255, 255, 255, 1);\n    box-shadow: 0px 0px 16px 0px rgba(54, 54, 64, 0.2);\n    border-radius: 4px;\n    .tit {\n      font-size: 21px;\n      font-family: PingFangSC-Regular, PingFang SC;\n      font-weight: 400;\n      color: rgba(51, 51, 51, 1);\n      line-height: 29px;\n      padding-bottom: 8px;\n      width: 79px;\n      margin: 0 auto 34px;\n      white-space: nowrap;\n      border-bottom: solid 3px $-aside-menu-color;\n    }\n    /deep/.el-form-item__content {\n      flex: 1;\n      display: flex;\n    }\n    .el-button--violet {\n      width: 100%;\n    }\n    .el-input /deep/.el-input__inner,\n    .el-date-editor {\n      border-color: #d9d9d9;\n      padding: 0 8px;\n    }\n\n    .byphone {\n      flex: 1;\n    }\n    .check {\n      transform: scale(0.8) translate(-45px, 0);\n    }\n  }\n\n  .el-form-item.is-error .el-input__inner,\n  .el-form-item.is-error .el-input__inner:focus,\n  .el-form-item.is-error .el-textarea__inner,\n  .el-form-item.is-error .el-textarea__inner:focus {\n    border-color: #df1616;\n  }\n  .checked-item {\n    .el-form-item__error {\n      top: 25px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=dd9db746&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=dd9db746&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"dd9db746\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}